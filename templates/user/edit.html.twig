{% extends 'base.html.twig' %}

{% block title %}Edit User{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="card shadow-lg">
        <div class="card-header bg-dark text-white text-center">
            <h2>
                <i class="bi bi-person-circle"></i> Edit User
            </h2>
        </div>

        <div class="card-body">
            {{ form_start(form, {'attr': {'class': 'needs-validation', 'novalidate': 'novalidate'}}) }}

                {# Email Field #}
                <div class="mb-4">
                    <label class="form-label fw-bold">
                        <i class="bi bi-envelope-fill text-primary"></i> Email
                    </label>
                    {{ form_widget(form.email, {'attr': {'class': 'form-control shadow-sm'}}) }}
                </div>

                {# Roles Field (Properly Displayed as Checkboxes) #}
                <div class="mb-4">
                    <label class="form-label fw-bold">
                        <i class="bi bi-shield-lock-fill text-warning"></i> Roles
                    </label>
                    {{ form_widget(form.roles) }} {# This will now display only once âœ… #}
                </div>

                {# Password Field (Optional) #}
                <div class="mb-4">
                    <label class="form-label fw-bold">
                        <i class="bi bi-key-fill text-danger"></i> New Password
                    </label>
                    {{ form_widget(form.plainPassword, {
                        'attr': {
                            'class': 'form-control shadow-sm',
                            'placeholder': 'Leave blank to keep current password'
                        }
                    }) }}
                </div>

                {# Submit Button #}
                <div class="d-grid gap-2">
                    <button class="btn btn-success btn-lg">
                        <i class="bi bi-check-circle-fill"></i> Update
                    </button>
                </div>

            {{ form_end(form) }}
        </div>

        {# Back Button #}
        <div class="card-footer text-center">
            <a href="{{ path('app_user_index') }}" class="btn btn-outline-secondary btn-lg">
                <i class="bi bi-arrow-left-circle"></i> Back to List
            </a>
        </div>
    </div>
</div>

{# ðŸŽ¨ Additional Custom Styling #}
<style>
    .card {
        border-radius: 15px;
        background: linear-gradient(135deg, #f8f9fa, #dee2e6);
    }

    .form-label {
        font-size: 1.1rem;
    }

    .form-control {
        border-radius: 10px;
        padding: 12px;
    }

    .form-control:focus {
        box-shadow: 0 0 10px rgba(0, 123, 255, 0.3);
    }

    .btn {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s ease;
    }

    .btn:hover {
        transform: scale(1.05);
    }
</style>
{% endblock %}
