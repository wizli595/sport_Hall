{% extends 'base.html.twig' %}

{% block title %}Register
{% endblock %}

{% block body %}
	<div class="container d-flex justify-content-center align-items-center vh-100">
		<div class="card shadow-lg p-4" style="max-width: 500px; width: 100%;">
			<div class="text-center mb-4">
				<i class="bi bi-person-plus-fill display-1 text-success"></i>
				<h1 class="h4">Create an Account</h1>
			</div>

			{# Display errors for the entire form #}
			{% if registrationForm.vars.errors|length > 0 %}
				<div class="alert alert-danger alert-dismissible fade show" role="alert">
					<i class="bi bi-exclamation-circle-fill me-2"></i>
					Please fix the errors below and try again.
					<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</div>
			{% endif %}

			{{ form_start(registrationForm) }}
			<div class="mb-3">
				{{ form_label(registrationForm.email, 'Email', {'label_attr': {'class': 'form-label'}}) }}
				{{ form_widget(registrationForm.email, {'attr': {'class': 'form-control', 'placeholder': 'Enter your email'}}) }}
				{{ form_errors(registrationForm.email) }}
			</div>

			<div class="mb-3">
				{{ form_label(registrationForm.plainPassword, 'Password', {'label_attr': {'class': 'form-label'}}) }}
				{{ form_widget(registrationForm.plainPassword, {'attr': {'class': 'form-control', 'placeholder': 'Choose a strong password'}}) }}
				{{ form_errors(registrationForm.plainPassword) }}
			</div>

			<div class="mb-3 form-check">
				{{ form_widget(registrationForm.agreeTerms, {'attr': {'class': 'form-check-input'}}) }}
				{{ form_label(registrationForm.agreeTerms, 'I agree to the terms and conditions', {'label_attr': {'class': 'form-check-label'}}) }}
				{{ form_errors(registrationForm.agreeTerms) }}
			</div>

			<div class="d-grid">
				<button type="submit" class="btn btn-success btn-lg">
					<i class="bi bi-person-plus"></i>
					Register
				</button>
			</div>
			{{ form_end(registrationForm) }}
		</div>
	</div>

	{# Additional styles for form aesthetics #}
	<style>
		body {
			background: linear-gradient(135deg, #28a745, #6c757d);
			color: #fff;
		}

		.card {
			background-color: #f8f9fa;
			border-radius: 15px;
			animation: fadeIn 0.8s ease-in-out;
		}

		.btn-success {
			display: flex;
			justify-content: center;
			align-items: center;
			transition: all 0.3s ease;
		}

		.btn-success:hover {
			background-color: #218838;
			transform: scale(1.05);
		}

		@keyframes fadeIn {
			from {
				opacity: 0;
				transform: translateY(-20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
	</style>
{% endblock %}
